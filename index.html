
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Malla Interactiva - Ingeniería Industrial</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #f9f8f6;
    margin: 0; padding: 20px;
    color: #333;
  }
  h1 {
    text-align: center;
    margin-bottom: 10px;
    font-weight: 700;
    color: #5a4d4d;
  }
  #malla {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 24px;
    max-width: 1200px;
    margin: 0 auto;
  }
  .anio-columna {
    background: #fff9f3;
    border-radius: 12px;
    padding: 16px 12px;
    box-shadow: 0 4px 8px rgb(229 208 195 / 0.3);
    display: flex;
    flex-direction: column;
  }
  .anio-columna h2 {
    text-align: center;
    margin: 0 0 14px 0;
    color: #7a6050;
    font-weight: 600;
    border-bottom: 2px solid #dbc1b3;
    padding-bottom: 6px;
  }
  .cuatrimestre {
    margin-bottom: 16px;
  }
  .cuatrimestre h3 {
    font-weight: 600;
    margin-bottom: 10px;
    font-size: 1rem;
    color: #a08573;
    border-bottom: 1px solid #d9c9bc;
    padding-bottom: 4px;
  }
  .materia {
    width: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 6px 0;
    padding: 16px 10px;
    font-size: 1.1rem;
    border-radius: 10px;
    background-color: #dce6e1;
    border: 2px solid transparent;
    color: #5a5a5a;
    cursor: pointer;
    user-select: none;
    box-shadow: 0 2px 5px rgb(153 164 161 / 0.3);
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
    text-align: center;
  }
  .materia:hover:not(.bloqueada) {
    background-color: #bacdc5;
    color: #2f3d33;
  }
  .bloqueada {
    background-color: #f1d9d9;
    color: #a05f5f;
    cursor: not-allowed;
    box-shadow: none;
  }
  .desbloqueada {
    background-color: #e9f0eb;
    color: #496753;
    border-color: #7ba17a;
  }
  .aprobada {
    background-color: #a3c1a7 !important;
    color: #2f3d33 !important;
    border-color: #5a7d53 !important;
    text-decoration: line-through;
    box-shadow: inset 0 0 6px #4a6a44;
  }
</style>
</head>
<body>
  <h1>Malla Interactiva - Ingeniería Industrial<br><small style="font-weight: 400; color: #9a8b7e;">Universidad Nacional de Tucumán</small></h1>

  <div id="malla"></div>

<script>
  const materias = {
    "A1": { nombre: "Física I", correlativas: [] },
    "A2": { nombre: "Álgebra y Geometría Analítica", correlativas: [] },
    "A3": { nombre: "Cálculo I", correlativas: [] },
    "A4": { nombre: "Sistemas de Representación", correlativas: [] },
    "B1": { nombre: "Fundamentos de Química General", correlativas: [] },
    "B2": { nombre: "Elementos de Álgebra Lineal", correlativas: ["A2"] },
    "B3": { nombre: "Informática", correlativas: ["A2"] },
    "B4": { nombre: "Cálculo II", correlativas: ["A3"] },
    "B5": { nombre: "Física II", correlativas: ["A1"] },
    "C1": { nombre: "Física III", correlativas: ["B4", "B5"] },
    "C2": { nombre: "Introducción a la Ingeniería Industrial", correlativas: ["B3"] },
    "C3": { nombre: "Cálculo III", correlativas: ["A2", "A3", "B2", "B4"] },
    "C4": { nombre: "Estabilidad y Resistencia de los Materiales", correlativas: ["A1", "A2", "A3"] },
    "C5": { nombre: "Economía", correlativas: ["A3"] },
    "D1": { nombre: "Cálculo IV", correlativas: ["B2", "B4", "C3"] },
    "D2": { nombre: "Probabilidades y Estadística", correlativas: ["B2", "B4", "C3"] },
    "D3": { nombre: "Química Orgánica", correlativas: ["B1"] },
    "D4": { nombre: "Ciencia de los Materiales", correlativas: ["A3", "B1", "B5"] },
    "E1": { nombre: "Organización de Empresas I", correlativas: ["C2", "C5"] },
    "E2": { nombre: "Fenómenos de Transferencia", correlativas: ["B5", "C1", "B1", "D1"] },
    "E3": { nombre: "Termodinámica y Máquinas Térmicas", correlativas: ["B1", "C5"] },
    "E4": { nombre: "Electrotecnia e Instalaciones Eléctricas", correlativas: ["A2", "B4", "B5", "C1"] },
    "F1": { nombre: "Mecánica y Mecanismos", correlativas: ["C4", "A4"] },
    "F2": { nombre: "Ingeniería Ambiental", correlativas: ["B1", "D3"] },
    "F3": { nombre: "Organización de Empresas II", correlativas: ["C5", "E1"] },
    "F4": { nombre: "Operaciones Industriales", correlativas: ["C1", "E3", "E2"] },
    "G1": { nombre: "Higiene y Seguridad Laboral", correlativas: ["D3", "E1", "F2"] },
    "G2": { nombre: "Procesos Industriales", correlativas: ["E3", "E2"] },
    "G3": { nombre: "Tecnologías y Procesos de Producción", correlativas: ["D4", "D3", "F1"] },
    "G4": { nombre: "Investigación Operativa", correlativas: ["D2", "D1", "F3"] },
    "H1": { nombre: "Electiva I", correlativas: [] },
    "H2": { nombre: "Sistemas Informáticos Industriales", correlativas: ["E1", "D1", "B3", "F3"] },
    "H3": { nombre: "Electrónica Industrial", correlativas: ["E4"] },
    "H4": { nombre: "Organización Industrial", correlativas: ["F1", "F3", "G4"] },
    "I1": { nombre: "Electiva II", correlativas: [] },
    "I2": { nombre: "Instalaciones Industriales", correlativas: ["E3", "F4", "E4"] },
    "I3": { nombre: "Automatización y Control de Procesos", correlativas: ["F4", "H3", "E4"] },
    "I4": { nombre: "Legislación Empresarial", correlativas: ["G1", "G2"] },
    "J1": { nombre: "Electiva III", correlativas: [] },
    "J2": { nombre: "Optimización de Sistemas de Gestión", correlativas: ["H2", "H4", "F2"] },
    "J3": { nombre: "Gestión de la Calidad", correlativas: ["H4", "F4"] },
    "J4": { nombre: "Formulación y Evaluación de Proyectos", correlativas: ["H4", "H2"] }
  };

  // Agrupar materias por año y cuatrimestre para mostrar en columnas por año
  const años = {
    1: { "1er Cuatrimestre": ["A1","A2","A3","A4"], "2do Cuatrimestre": ["B1","B2","B3","B4","B5"] },
    2: { "1er Cuatrimestre": ["C1","C2","C3","C4","C5"], "2do Cuatrimestre": ["D1","D2","D3","D4"] },
    3: { "1er Cuatrimestre": ["E1","E2","E3","E4"], "2do Cuatrimestre": ["F1","F2","F3","F4"] },
    4: { "1er Cuatrimestre": ["G1","G2","G3","G4"], "2do Cuatrimestre": ["H1","H2","H3","H4"] },
    5: { "1er Cuatrimestre": ["I1","I2","I3","I4"], "2do Cuatrimestre": ["J1","J2","J3","J4"] }
  };

  const malla = document.getElementById("malla");

  // Crear columnas por año
  for (const año in años) {
    const columna = document.createElement("div");
    columna.className = "anio-columna";

    const tituloAño = document.createElement("h2");
    tituloAño.textContent = `${año}º Año`;
    columna.appendChild(tituloAño);

    const cuatrimestres = años[año];
    for (const cuatri in cuatrimestres) {
      const contCuatri = document.createElement("div");
      contCuatri.className = "cuatrimestre";

      const tituloCuatri = document.createElement("h3");
      tituloCuatri.textContent = cuatri;
      contCuatri.appendChild(tituloCuatri);

      cuatrimestres[cuatri].forEach(codigo => {
        const mat = materias[codigo];
        const btn = document.createElement("button");
        btn.textContent = mat.nombre;
        btn.className = mat.correlativas.length ? "materia bloqueada" : "materia desbloqueada";
        btn.disabled = mat.correlativas.length > 0;
        btn.dataset.codigo = codigo;

        btn.onclick = () => {
          // Toggle aprobar / desaprobar
          if (btn.classList.contains("aprobada")) {
            // Desaprobar
            btn.classList.remove("aprobada");
            btn.disabled = false;
          } else {
            // Aprobar
            btn.classList.add("aprobada");
            btn.disabled = true;
          }

          // Actualizar desbloqueo
          Object.keys(materias).forEach(cod => {
            const mat2 = materias[cod];
            const btn2 = document.querySelector(`[data-codigo='${cod}']`);
            if (!btn2 || btn2.classList.contains("aprobada")) return;

            const deps = mat2.correlativas;
            const aprobadas = deps.every(dep => {
              const b = document.querySelector(`[data-codigo='${dep}']`);
              return b && b.classList.contains("aprobada");
            });

            if (aprobadas) {
              btn2.classList.remove("bloqueada");
              btn2.classList.add("desbloqueada");
              btn2.disabled = false;
            } else {
              btn2.classList.remove("desbloqueada");
              btn2.classList.add("bloqueada");
              btn2.disabled = true;
            }
          });
        };

        contCuatri.appendChild(btn);
      });

      columna.appendChild(contCuatri);
    }

    malla.appendChild(columna);
  }
</script>
</body>
</html>
